      name: Döbelnsgatan 89
      image: /local/custom_ui/floorplan/floorplan.svg
      stylesheet: /local/custom_ui/floorplan/base_css.css
      warnings:
      pan_zoom:
      hide_app_toolbar:

      last_motion_entity: sensor.template_last_motion
      last_motion_class: last-motion

      groups:

        - name: Flowers
          entities:
             - sensor.flower_1_moisture
             - sensor.flower_2_moisture
             - sensor.flower_3_moisture
          text_template: '${entity.state ? entity.state : "unknown"}'
          class_template: '
            var moist = parseFloat(entity.state.replace("%", ""));
            if (moist < 10)
              return "temp-very-high-background";
            else if (moist < 20)
              return "temp-average-background";
            else
              return "temp-below-average-background";
            '

        - name: temp_forecastio
          entities:
            - sensor.forecastio_apparent_temperature
          text_template: '${entity.state ? Math.ceil(entity.state) + "°": "undefined"}'
          class_template: 'return "static-temp";'

        - name: Media Players
          entities:
            - media_player.badrum
            - media_player.vardagsrum_musik
            - media_player.vardagsrum_chromecast
            - media_player.living_room_tv
          states:
            - state: 'off'
              class: 'squeezebox-off'
            - state: 'idle'
              class: 'squeezebox-off'
            - state: 'paused'
              class: 'squeezebox-off'
            - state: 'playing'
              class: 'on-custom'

        - name: Lights
          entities:
#            - light.hall_1
#            - light.hall_2
            - light.kokslampa
            - light.laslampa
            - light.sovrumstak
            - light.vardagsrum
            - group.hall_taklampa
          states:
            - state: 'on'
              class: 'on-custom'
            - state: 'off'
              class: 'light-off'

        - name: text_states
          entities:
            - sensor.forecastio_hourly_summary
          text_template: '${entity.state ? entity.state.replace(/\s{3,}/g,"") : "undefined"}'
          class_template: 'return "static-text";'

        - name: scripts
          entities:
            - script.all_lights_off
            - script.wake_up
            - script.sonos_group_players
            - script.sonos_guest_mode
          states:
            - state: 'on'
              class: 'button-on'
            - state: 'off'
              class: 'button-off'
          action:
            service: toggle

        - name: scenes
          entities:
            - scene.ceiling_relax
            - scene.ceiling_at_home
          states:
            - state: 'on'
              class: 'button-on'
            - state: 'off'
              class: 'button-off'
          action:
            service: turn_on

        - name: Switches
          entities:
             - switch.koksbank
             - switch.sovrum
             - switch.garderob
          states:
            - state: 'on'
              class: 'on-custom'
            - state: 'off'
              class: 'doorbell-off'

        - name: Device trackers
          entities:
             - device_tracker.patrik_iphone
          states:
            - state: 'Home'
              class: 'device-tracker-home'
            - state: 'Away'
              class: 'device-tracker-not-home'

        - name: text_font_date
          entities:
            - sensor.floorplan_date
          text_template: '${entity.state ? entity.state : "undefined"}'
          class_template: 'return "static-text-date";'

        - name: text_font_time
          entities:
            - sensor.floorplan_time
          text_template: '${entity.state ? entity.state : "undefined"}'
          class_template: 'return "static-text-time";'
